{"version":3,"sources":["../src/stores/configStore.ts","../src/stores/gameStore.ts","../src/utils/token.ts","../src/client.ts","../src/components/Spacer.ts","../src/components/WeGamePreview.ts","../src/controllers/gamePreview.ts","../src/utils/roadmap.ts","../src/locale/index.ts"],"sourcesContent":["import { produce } from \"immer\";\n// import { shallow } from \"zustand/shallow\";\nimport { createStore } from \"zustand/vanilla\";\n\nexport type FooterConfig = { textColor?: string; backgroundColor?: string };\n\nexport interface IConfigStore {\n  language?: string;\n  footer: FooterConfig;\n  setLanguage: (lang: string) => void;\n  updateFooterConfig: (config: FooterConfig) => void;\n}\n\nconst getStoreDefaultState = () => ({\n  language: \"en\",\n  footer: {},\n});\n\nconst configStore = createStore<IConfigStore>((set) => ({\n  ...getStoreDefaultState(),\n  updateFooterConfig: (config: FooterConfig) => {\n    set((s) =>\n      produce(s, (draft) => {\n        draft.footer = { ...draft.footer, ...config };\n      })\n    );\n  },\n  setLanguage: (lang: string) => {\n    set((s) =>\n      produce(s, (draft) => {\n        draft.language = lang;\n      })\n    );\n  },\n}));\nexport default configStore;\n","import { produce } from \"immer\";\n// import { shallow } from \"zustand/shallow\";\nimport { createStore } from \"zustand/vanilla\";\n\nimport { Game, GameInfoResult, GameRoundResult, Games } from \"../types\";\n\nexport interface IGameStore {\n  games: Games;\n  gameCodes: string[];\n  updateGameCode: (gameCode: string) => void;\n  updateGames: (games: Game[]) => void;\n  updateGameInfos: (gameInfos: GameInfoResult[]) => void;\n  updateGameRounds: (gameRounds: GameRoundResult[]) => void;\n}\n\nconst getStoreDefaultState = () => ({\n  gameCodes: [],\n  games: {},\n});\n\nconst gameStore = createStore<IGameStore>((set) => ({\n  ...getStoreDefaultState(),\n  updateGameCode: (gameCode: string) => {\n    set((s) =>\n      produce(s, (draft) => {\n        const otherCodes = draft.gameCodes.filter((gc) => gc !== gameCode);\n        draft.gameCodes = [...otherCodes, gameCode];\n      })\n    );\n  },\n  updateGames: (games: Game[]) => {\n    set((s) =>\n      produce(s, (draft) => {\n        const updatedGames: Games = games.reduce(\n          (p, g) =>\n            g.gameInfo?.gameCode ? { ...p, [g.gameInfo?.gameCode]: g } : p,\n          {} as Games\n        );\n        draft.games = { ...draft.games, ...updatedGames };\n      })\n    );\n  },\n  updateGameInfos: (gameInfos: GameInfoResult[]) => {\n    set((s) =>\n      produce(s, (draft) => {\n        const updatedGames: Games = gameInfos.reduce((p, g) => {\n          const gameCode = g?.gameCode;\n          if (!gameCode) return p;\n          const game = p[gameCode];\n          const nextGame = { ...game, gameInfo: g };\n          return { ...p, [gameCode]: nextGame };\n        }, s.games);\n        draft.games = { ...draft.games, ...updatedGames };\n      })\n    );\n  },\n  updateGameRounds: (gameRounds: GameRoundResult[]) => {\n    set((s) =>\n      produce(s, (draft) => {\n        const updatedGames: Games = gameRounds.reduce((p, g) => {\n          const gameCode = g?.gameCode;\n          if (!gameCode) return p;\n          const game = p[gameCode];\n          const nextGame = { ...game, gameRound: g };\n          return { ...p, [gameCode]: nextGame };\n        }, s.games);\n        draft.games = { ...draft.games, ...updatedGames };\n      })\n    );\n  },\n}));\n\nexport default gameStore;\n","import { sha3_256 } from \"js-sha3\";\n\nexport function genWidgetToken(operCode: string, appKey: string): string {\n  const tss = `${Date.now().valueOf()}`;\n  const sign = sha3_256.hex(`${appKey}_${tss}`);\n  const token = `wgs.${operCode}.${tss}_${sign}`;\n  return token;\n}\n","import configStore, { FooterConfig } from \"./stores/configStore\";\nimport gameStore from \"./stores/gameStore\";\nimport { GameInfoResult, GameRoundResult } from \"./types\";\nimport { genWidgetToken } from \"./utils/token\";\n\ntype WeClientConfig = {\n  appKey: string;\n  operCode: string;\n  token?: string;\n  dataUrl?: string;\n  sandbox?: boolean;\n  reconnectDelay?: number;\n  onOpen?: () => void;\n  onClose?: (e: CloseEvent) => void;\n  onError?: (e: Event) => void;\n};\n\nexport const sndUrl = \"wss://uat-weg-gdsapi.wehosts247.com/widgetws\";\nexport const prdUrl = \"wss://nc-gdsapi.worldonlinegame.com/widgetws\";\n\nclass WeClient {\n  private _cfg: WeClientConfig;\n  private _ws?: WebSocket;\n  private _rcIntv?: any;\n\n  constructor(cfg: WeClientConfig) {\n    this._cfg = cfg;\n  }\n\n  public listenGameUpdates(gameCodes: string) {\n    console.info(\"listenGameUpdates\", gameCodes);\n  }\n\n  public updateFooterConifg(config: FooterConfig) {\n    configStore.getState().updateFooterConfig(config);\n  }\n\n  public setLanguage(lang: string) {\n    configStore.getState().setLanguage(lang);\n  }\n\n  public connect() {\n    this._connect();\n  }\n\n  public close() {\n    this._close;\n  }\n\n  // private methods\n\n  private _close() {\n    this._ws?.close();\n    this._ws = undefined;\n    this._rcIntv && clearInterval(this._rcIntv);\n    this._rcIntv = undefined;\n  }\n\n  private _connect() {\n    if (this._ws) {\n      return;\n    }\n    const token =\n      this._cfg.token || genWidgetToken(this._cfg.operCode, this._cfg.appKey);\n    const dataUrl = this._cfg.dataUrl || (this._cfg.sandbox ? sndUrl : prdUrl);\n    const ws = new WebSocket(`${dataUrl}?token=${token}`);\n    this._ws = ws;\n\n    const self = this;\n\n    ws.onopen = () => {\n      self._cfg.onOpen?.();\n      this._rcIntv && clearInterval(this._rcIntv);\n      this._rcIntv = undefined;\n    };\n    ws.onmessage = (e) => {\n      if (e.data) self._handleData(e.data);\n    };\n    ws.onerror = (e) => {\n      self._cfg.onError?.(e);\n    };\n    ws.onclose = (e) => {\n      self._cfg.onClose?.(e);\n      if (self._cfg.reconnectDelay) {\n        self._rcIntv = setInterval(() => {\n          self._close();\n          self._connect();\n        }, self._cfg.reconnectDelay);\n      }\n    };\n  }\n\n  private _handleData(dataString: string) {\n    const data = JSON.parse(dataString);\n    if (data.gameInfos) {\n      const gameInfos = data.gameInfos as GameInfoResult[];\n      gameStore.getState().updateGameInfos(gameInfos);\n    }\n    if (data.gameRounds) {\n      const gameRounds = data.gameRounds as GameRoundResult[];\n      gameStore.getState().updateGameRounds(gameRounds);\n    }\n  }\n}\n\nexport default WeClient;\n","import { LitElement, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\n@customElement(\"we-spacer\")\nexport class WeSpacer extends LitElement {\n  @property({ type: Number })\n  flex = 0;\n\n  @property()\n  width = \"\";\n\n  @property()\n  height = \"\";\n\n  getSizeStyles() {\n    if (this.flex && this.flex > 0) {\n      return `flex:1;`;\n    } else if (this.width) {\n      return `width:${this.width};height:auto;min-height:auto`;\n    } else {\n      return `height:${this.height};width:auto;min-width:auto`;\n    }\n  }\n\n  render() {\n    const style = this.getSizeStyles();\n    return html`<div style=\"${style}\"></div>`;\n  }\n}\n","import { LitElement, html, css, PropertyValueMap } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport { classMap } from \"lit/directives/class-map.js\";\nimport { styleMap, StyleInfo } from \"lit/directives/style-map.js\";\n\nimport maintenanceIcon from \"../assets/maintenance-icon.svg\";\nimport { GamePreviewController } from \"../controllers/gamePreview\";\nimport { drawBig } from \"../utils/roadmap\";\nimport { t } from \"../locale\";\n\n@customElement(\"we-game-preview\")\nexport class WeGamePreview extends LitElement {\n  @property()\n  gameCode = \"\";\n\n  @property({ attribute: \"footer-padding\" })\n  footerPadding = \"\";\n\n  @property({ attribute: \"footer-color\" })\n  footerColor = \"\";\n\n  @property({ attribute: \"footer-background\" })\n  footerBackground = \"\";\n\n  @property({ attribute: \"width\" })\n  width = \"\";\n\n  @property({ attribute: \"with-footer\" })\n  withFooter = \"true\";\n\n  @property()\n  title = \"\";\n\n  private ctrl = new GamePreviewController(this);\n\n  public connectedCallback(): void {\n    super.connectedCallback();\n    this.ctrl.gameCode = this.gameCode;\n    this.ctrl.connectStore();\n  }\n\n  public disconnectedCallback() {\n    super.disconnectedCallback();\n    this.ctrl.disconnectStore();\n  }\n\n  protected updated(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    if (_changedProperties.has(\"gameCode\")) {\n      const prevGameCode = _changedProperties.get(\"gameCode\");\n      if (!prevGameCode && this.gameCode) {\n        this.ctrl.gameCode = this.gameCode;\n      }\n    }\n  }\n\n  public getRoadmapContent({ accumCards }: { accumCards: string[] }) {\n    const drawFn = drawBig;\n    const cols = 15;\n    const svgContent = drawFn({\n      cols,\n      gameType: \"BA\",\n      data: accumCards,\n      mode: \"standard\" || \"\",\n      backgroundMode: \"light\",\n      // askRoadWinner,\n      // plotOption: {\n      //   gameType,\n      //   lang,\n      //   // withOnClickEvent: type === 'BIG_FULL',\n      // },\n      // ...(type === 'BIG_FULL' ? { zoomedId } : {}),\n    });\n    return svgContent;\n  }\n\n  renderFooter() {\n    const hasFooter = this.withFooter === \"true\";\n    if (!hasFooter) return html``;\n    const { title } = this.ctrl.getGameInfos();\n    const config = this.ctrl.getConfig();\n    const footerBackgroundColor =\n      this.footerBackground || config.footer.backgroundColor || \"\";\n    const footerTextColor = this.footerColor || config.footer.textColor || \"\";\n    const footerStyle: StyleInfo = {};\n    if (footerBackgroundColor) footerStyle.background = footerBackgroundColor;\n    if (this.footerPadding) footerStyle.padding = this.footerPadding;\n    const footerTextStyle: StyleInfo = {};\n    if (footerTextColor) footerTextStyle.color = footerTextColor;\n    const footerText = this.title || title;\n    return html`<div class=\"footer\" style=${styleMap(footerStyle)}>\n      <div class=\"game-name-container\">\n        <div class=\"game-name\" style=${styleMap(footerTextStyle)}>\n          ${footerText}\n        </div>\n      </div>\n    </div>`;\n  }\n\n  render() {\n    const { accumCards, coverImageUrl, gameStateFlag, isMaintenance } =\n      this.ctrl.getGameInfos();\n    const svgContent = this.getRoadmapContent({ accumCards });\n    const statusMsg =\n      [\"sitting\", \"new_shoe\", \"settling\", \"card_dealing\"].indexOf(\n        gameStateFlag\n      ) > -1\n        ? t(`status.${gameStateFlag}`)\n        : \"\";\n    const statusFlagClasses = {\n      \"status-flag\": true,\n      hidden: !statusMsg,\n    };\n\n    const containerStyle: StyleInfo = {};\n    if (this.width) containerStyle.width = this.width;\n\n    return html`\n    <div class=\"container\" style=${styleMap(containerStyle)}>\n      <div class=\"cover\">\n        <div class=\"cover-image\">\n          <div\n            class=\"bg-image\"\n            style=\"background-image: url(${coverImageUrl});\"\n          ></div>\n        </div>\n        <div class=${classMap(statusFlagClasses)}>${statusMsg}</div>\n      </div>\n      <div class=\"roadmap-container\">\n        <div class=\"roadmap-content\">\n          <div class=\"roadmap\">\n            <img\n              class=\"image\" \n              alt=\"roadmap\"\n              src=${`data:image/svg+xml;utf8,${encodeURIComponent(svgContent)}`}\n              loading=\"lazy\"\n            />\n          </div>\n        </div>\n      </div>\n      <div class=${classMap({\n        \"maintence-container\": true,\n        hidden: !isMaintenance,\n      })}>\n        <div class=\"icon\"><img class=\"image\" src=${maintenanceIcon}></img></div>\n        <div class=\"text\">${t(\"common.state.maintenance\")}</div>\n      </div>\n      ${this.renderFooter()}\n      <div class=${classMap({\n        \"maintence-cover\": true,\n        hidden: !isMaintenance,\n      })}></div>\n    </div>`;\n  }\n\n  static styles = css`\n    .container {\n      position: relative;\n      width: 9.75rem;\n      height: auto;\n      background: #0e1328;\n      border-radius: 0.25rem;\n    }\n\n    .cover {\n      position: relative;\n      width: 100%;\n      height: 0;\n      padding-top: 55.128%;\n    }\n\n    .cover-image {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: black;\n    }\n\n    .bg-image {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      border-radius: inherit;\n      background-repeat: no-repeat;\n      background-position: top center;\n      background-size: 130% 130%;\n    }\n\n    .status-flag {\n      position: absolute;\n      left: 50%;\n      bottom: 0.25rem;\n      background: #0e121e99;\n      padding: 0.375rem 1rem;\n      font-size: 12px;\n      line-height: 16px;\n      color: white;\n      border-radius: 0.375rem;\n      transform: translateX(-50%);\n      font-weight: 700;\n    }\n\n    we-countdown-timer {\n      position: absolute;\n      top: 0.5rem;\n      left: 0.5rem;\n      width: 1.5rem;\n      height: 1.5rem;\n    }\n\n    .roadmap-container {\n      position: relative;\n      width: 100%;\n      height: 0;\n      padding-top: 42.3077%;\n      display: flex;\n      align-items: center;\n      background: white;\n    }\n\n    .roadmap-content {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      padding: 0.1875rem;\n    }\n\n    .roadmap {\n      width: 100%;\n      height: 100%;\n    }\n\n    .bet-pool-bar {\n      width: 100%;\n      height: 0.125rem;\n      display: flex;\n      flex-direction: row;\n      background-color: rgba(255, 255, 255, 0.1);\n    }\n\n    .bet-pool-bar-player {\n      height: 100%;\n      border-bottom-left-radius: 0.125rem;\n      border-top-left-radius: 0.125rem;\n      background-color: #1468dc;\n    }\n\n    .bet-pool-bar-banker {\n      height: 100%;\n      border-bottom-right-radius: 0.125rem;\n      border-top-right-radius: 0.125rem;\n      background-color: #d92d20;\n      margin-left: 0.125rem;\n    }\n\n    .footer {\n      display: flex;\n      flex-direction: column;\n      background: #0e1328;\n      padding: 0.25rem;\n    }\n\n    .game-name-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n\n    .game-name {\n      color: white;\n      font-size: 0.875rem;\n      line-height: 1.25rem;\n    }\n\n    .maintence-container {\n      width: 100%;\n      height: 4.7rem;\n      position: relative;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      z-index: 1;\n    }\n\n    .icon {\n      width: 1.25rem;\n      height: 1.25rem;\n    }\n\n    .image {\n      width: 100%;\n      height: 100%;\n    }\n\n    .text {\n      margin-top: 0.375rem;\n      font-size: 0.75rem;\n      color: #bb7eff;\n    }\n\n    .maintence-cover {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      border-radius: 0.25rem;\n      background-color: rgba(14, 18, 30, 0.6);\n    }\n\n    .hidden {\n      display: none;\n    }\n  `;\n}\n","import { ReactiveController, ReactiveControllerHost } from \"lit\";\n\nimport { calcBAStats } from \"@wecasino/weroadmap\";\n\nimport configStore from \"../stores/configStore\";\nimport gameStore from \"../stores/gameStore\";\nimport { Game } from \"../types\";\n\nconst RoundState = {\n  SHUFFLE: \"shuffle\",\n  NEW_SHOE: \"newshoe\",\n  START: \"start\",\n  STOP: \"stop\",\n  CARD: \"card\",\n  RESULT: \"result\",\n  CANCEL: \"cancel\",\n};\n\nconst getIsChangingShoe = (roundState: string) => {\n  return [RoundState.NEW_SHOE, RoundState.SHUFFLE].includes(roundState);\n};\n\nconst handleImageUrl = (url: string) => {\n  if (!url) return url;\n  if (url.startsWith(\"http\") || url.startsWith(\"https\")) return url;\n  return `https://${url}`;\n};\n\nexport class GamePreviewController implements ReactiveController {\n  host: ReactiveControllerHost;\n\n  private _gameCode: string;\n  private _unsubConfigStore: () => void;\n  private _unsubGameStore: () => void;\n\n  public set gameCode(gameCode: string) {\n    this._gameCode = gameCode;\n    gameStore.getState().updateGameCode(this._gameCode);\n  }\n\n  public get gameCode() {\n    return this._gameCode;\n  }\n\n  constructor(host: ReactiveControllerHost) {\n    (this.host = host).addController(this);\n  }\n\n  hostConnected() {}\n\n  hostDisconnected() {}\n\n  private subScribeConfigstore() {\n    this.host.requestUpdate();\n  }\n\n  private subScribeGametore() {\n    this.host.requestUpdate();\n  }\n\n  public connectStore() {\n    this._unsubConfigStore = configStore.subscribe(\n      this.subScribeConfigstore.bind(this)\n    );\n    this._unsubGameStore = gameStore.subscribe(\n      this.subScribeGametore.bind(this)\n    );\n  }\n\n  public disconnectStore() {\n    this._unsubConfigStore?.();\n    this._unsubGameStore?.();\n  }\n\n  public get game(): Game {\n    const games = gameStore.getState().games;\n    const game = games[this.gameCode] || {};\n    return game;\n  }\n\n  public getGameInfos() {\n    const game = this.game;\n    const language = this.getConfig().language;\n    const title =\n      game?.gameInfo?.gameDescr?.[language || \"\"] ||\n      game?.gameInfo?.gameDescr?.zh ||\n      \"-\";\n    const stats = calcBAStats(game?.gameRound?.accumCards?.slice(-999) || []);\n\n    const roundState = game?.gameRound?.roundState || \"\";\n\n    const isShowResult = roundState === RoundState.RESULT;\n    const isShowCardResult = [RoundState.CARD, RoundState.RESULT].includes(\n      roundState\n    );\n    const isStart = roundState === RoundState.START;\n\n    const roundCard = this.game?.gameRound?.roundCard || \"0,0,0,0,0,0\";\n    const accumCards = this.game?.gameRound?.accumCards || [];\n    const gameState = game?.gameRound?.gameState;\n\n    const coverImageUrl = handleImageUrl(\n      game?.gameInfo?.gameMeta?.dealerImage || \"\"\n    );\n\n    let gameStateFlag = \"\";\n    if (\n      roundState === RoundState.SHUFFLE ||\n      roundState === RoundState.NEW_SHOE\n    ) {\n      gameStateFlag = \"new_shoe\";\n    } else if (roundState === RoundState.RESULT) {\n      gameStateFlag = \"settling\";\n    } else if (\n      roundState === RoundState.STOP ||\n      roundState === RoundState.CARD\n    ) {\n      gameStateFlag = \"card_dealing\";\n    } else if (roundState === RoundState.START) {\n      gameStateFlag = \"betting\";\n    }\n    const isMaintenance =\n      gameState === \"maintenance\" || gameState === \"disable\";\n    return {\n      title,\n      stats,\n      gameState,\n      roundState,\n      roundCard,\n      accumCards,\n      isChangingShoe: getIsChangingShoe(roundState),\n      isShowCardResult,\n      isShowResult,\n      isStart,\n      isMaintenance,\n      coverImageUrl,\n      gameStateFlag,\n    };\n  }\n\n  public getConfig() {\n    return configStore.getState();\n  }\n}\n","import {\n  calcBARoadmap,\n  calcDTRoadmap,\n  type Checker,\n  plotBeadRoad,\n  plotBegin,\n  plotBigRoad,\n  plotEnd,\n  plotGrid,\n  type PlotOption,\n  plotR234Road,\n} from \"@wecasino/weroadmap\";\n\ntype RoadmapBackgroundMode = \"dark\" | \"light\";\n\ntype RoadmapDrawFn = (props: {\n  cols: number;\n  data: string[];\n  gameType: \"BA\" | \"DT\";\n  mode?: string;\n  backgroundMode?: RoadmapBackgroundMode;\n  // askRoadWinner?: number;\n  // plotOption?: PlotOption;\n  // zoomedId?: string;\n}) => string;\n\nconst getPlotOptionByBackgroundMode = (\n  mode: RoadmapBackgroundMode = \"dark\"\n): PlotOption => {\n  return mode === \"light\"\n    ? {\n        hasBorder: true,\n        borderColor: \"#BDC6D4\",\n        checkerPadding: 2,\n        baBeadDotStrokeColor: \"#FFFFFF\",\n      }\n    : {\n        hasDots: true,\n        dotColor: \"white\",\n        dotOpacity: 0.1,\n        checkerPadding: 2,\n        baBeadDotStrokeColor: \"#000000\",\n      };\n};\n\nexport const drawBead: RoadmapDrawFn = ({\n  cols,\n  data,\n  gameType,\n  mode,\n  backgroundMode,\n  // askRoadWinner,\n  // plotOption,\n}) => {\n  const rows = 6;\n  const w = 50 * cols;\n  const h = 50 * rows;\n  const calcRoadmap = gameType === \"DT\" ? calcDTRoadmap : calcBARoadmap;\n\n  const pointFn = (c: Checker) => {\n    if (gameType === \"DT\")\n      return c.data?.w === 1 ? (c.data?.bv ?? 0) : (c.data?.pv ?? 0);\n    return c.data?.w === 1 ? (c.data?.bv ?? 0) : (c.data?.pv ?? 0);\n  };\n\n  const rm = calcRoadmap({ data, r0MaxCol: cols });\n  const defaultPlotOption = getPlotOptionByBackgroundMode(backgroundMode);\n  const beadMode = mode === \"point\" ? \"point\" : \"standard\";\n  const beadPlotOption: PlotOption = {\n    ...defaultPlotOption,\n    mode: beadMode,\n    pointFn,\n    // ...plotOption,\n  };\n  let rt0 = rm.rt0;\n  // if (askRoadWinner && askRoadWinner > 0) {\n  //   rt0 = askRoadWinner === 1 ? rm.fcb0 : rm.fcp0;\n  // }\n  let svg = plotBegin(w, h, w, h, false, beadPlotOption);\n  svg += plotBeadRoad(rt0, cols, rows, w, h, 0, 0, 1, beadPlotOption);\n  svg += plotEnd();\n  return svg;\n};\n\nexport const drawBigFull: RoadmapDrawFn = ({\n  cols,\n  data,\n  gameType,\n  backgroundMode,\n  // askRoadWinner,\n  // plotOption,\n  // zoomedId,\n}) => {\n  const rows = 6;\n  const fh = 50 * rows * 2;\n  const w = 50 * cols;\n  const h = 50 * rows;\n  const calcRoadmap = gameType === \"DT\" ? calcDTRoadmap : calcBARoadmap;\n  const rm = calcRoadmap({\n    data,\n    r1MaxCol: cols,\n    r2MaxCol: cols * 2,\n    r3MaxCol: cols,\n    r4MaxCol: cols,\n  });\n  const bigFullPlotOption = {\n    ...getPlotOptionByBackgroundMode(backgroundMode),\n    // ...plotOption,\n  };\n  let rt1 = rm.rt1;\n  let rt2 = rm.rt2;\n  let rt3 = rm.rt3;\n  let rt4 = rm.rt4;\n  // if (askRoadWinner && askRoadWinner > 0) {\n  //   rt1 = askRoadWinner === 1 ? rm.fcb1 : rm.fcp1;\n  //   rt2 = askRoadWinner === 1 ? rm.fcb2 : rm.fcp2;\n  //   rt3 = askRoadWinner === 1 ? rm.fcb3 : rm.fcp3;\n  //   rt4 = askRoadWinner === 1 ? rm.fcb4 : rm.fcp4;\n  // }\n  let svg = plotBegin(w, fh, w, fh, false, bigFullPlotOption);\n  // const isZoomed = !!zoomedId;\n  const isZoomed = false;\n  if (!isZoomed) {\n    if (backgroundMode === \"light\") {\n      svg += plotGrid(cols, rows * 2, w, h * 2, 0, 0, bigFullPlotOption);\n    }\n    const bigFullPlotOption2: PlotOption = {\n      ...bigFullPlotOption,\n      hasBorder: false,\n    };\n    svg += plotBigRoad(rt1, cols, rows, w, h, 0, 0, 1, bigFullPlotOption2);\n    /* prettier-ignore */\n    svg += plotR234Road(rt2, 2, cols * 2, rows, w, h / 2, 0, h, 2, bigFullPlotOption2)\n    /* prettier-ignore */\n    svg += plotR234Road(rt3, 3, cols, rows, w / 2, (h * 3) / 2, 0, h, 2, bigFullPlotOption2)\n    /* prettier-ignore */\n    svg += plotR234Road(rt4, 4, cols, rows, w / 2, (h * 3) / 2, w / 2, h, 2, bigFullPlotOption2)\n  } else {\n    // const bigFullPlotOption2: PlotOption = {\n    //   ...bigFullPlotOption,\n    //   hasBorder: false,\n    //   withOnClickEvent: true,\n    // };\n    const zoomedCols = Math.ceil(cols / 2);\n    if (backgroundMode === \"light\") {\n      svg += plotGrid(zoomedCols, rows, w, h * 2, 0, 0, bigFullPlotOption);\n    }\n    // const rm2 = calcRoadmap({\n    //   data,\n    //   r1MaxCol: zoomedCols,\n    //   r2MaxCol: zoomedCols,\n    //   r3MaxCol: zoomedCols,\n    //   r4MaxCol: zoomedCols,\n    // });\n    // if (zoomedId === \"big\") {\n    //   svg += plotBigRoad(\n    //     rm2.rt1,\n    //     zoomedCols,\n    //     rows,\n    //     w,\n    //     h * 2,\n    //     0,\n    //     0,\n    //     1,\n    //     bigFullPlotOption2\n    //   );\n    // } else {\n    //   const x = zoomedId === \"R2\" ? 2 : zoomedId === \"R3\" ? 3 : 4;\n    //   const rt =\n    //     zoomedId === \"R2\" ? rm2.rt2 : zoomedId === \"R3\" ? rm2.rt3 : rm2.rt4;\n    //   svg += plotR234Road(\n    //     rt,\n    //     x,\n    //     zoomedCols,\n    //     rows,\n    //     w,\n    //     h * 2,\n    //     0,\n    //     0,\n    //     1,\n    //     bigFullPlotOption2\n    //   );\n    // }\n  }\n\n  svg += plotEnd();\n  return svg;\n};\n\nexport const drawBig: RoadmapDrawFn = ({\n  cols,\n  data,\n  gameType,\n  backgroundMode,\n  // askRoadWinner,\n  // plotOption,\n}) => {\n  const rows = 6;\n  const w = 50 * cols;\n  const h = 50 * rows;\n  const calcRoadmap = gameType === \"DT\" ? calcDTRoadmap : calcBARoadmap;\n  const rm = calcRoadmap({ data, r0MaxCol: cols });\n  const bigPlotOption = {\n    ...getPlotOptionByBackgroundMode(backgroundMode),\n    // ...plotOption,\n  };\n  let rt1 = rm.rt1;\n  // if (askRoadWinner && askRoadWinner > 0) {\n  //   rt1 = askRoadWinner === 1 ? rm.fcb1 : rm.fcp1\n  // }\n  let svg = plotBegin(w, h, w, h, false, bigPlotOption);\n  svg += plotBigRoad(rt1, cols, rows, w, h, 0, 0, 1, bigPlotOption);\n  svg += plotEnd();\n  return svg;\n};\n","import configStore from \"../stores/configStore\";\n\n// TODO: add more locale or move to separate JSON files\nconst en = {\n  \"status.sitting\": \"Already on this table\",\n  \"status.new_shoe\": \"Shuffling\",\n  \"status.settling\": \"Settling\",\n  \"status.card_dealing\": \"Result\",\n  \"common.state.maintenance\": \"Under maintenance\",\n};\n\nconst zh = {\n  \"status.sitting\": \"已在此檯\",\n  \"status.new_shoe\": \"換靴中\",\n  \"status.settling\": \"結算中\",\n  \"status.card_dealing\": \"開牌中\",\n  \"common.state.maintenance\": \"維護中\",\n};\n\nconst cn = {\n  \"status.sitting\": \"已在此台\",\n  \"status.new_shoe\": \"换靴中\",\n  \"status.settling\": \"结算中\",\n  \"status.card_dealing\": \"开牌中\",\n  \"common.state.maintenance\": \"维护中\",\n};\n\nconst es = {\n  \"status.sitting\": \"Ya en esta mesa\",\n  \"status.new_shoe\": \"Barajando\",\n  \"status.settling\": \"Resolviendo\",\n  \"status.card_dealing\": \"Resultado\",\n  \"common.state.maintenance\": \"En mantenimiento\",\n};\n\nconst id = {\n  \"status.sitting\": \"Kamu di sini\",\n  \"status.new_shoe\": \"Mengocok\",\n  \"status.settling\": \"Pembayaran\",\n  \"status.card_dealing\": \"Membuka\",\n  \"common.state.maintenance\": \"Dalam perbaikan\",\n};\n\nconst inLocale = {\n  \"status.sitting\": \"इस टेबल पर पहले से ही\",\n  \"status.new_shoe\": \"शफल कर रहा है\",\n  \"status.settling\": \"सेटिलिंग\",\n  \"status.card_dealing\": \"परिणाम\",\n  \"common.state.maintenance\": \"अंतर्वार्ता में\",\n};\n\nconst ja = {\n  \"status.sitting\": \"既にこのテーブルで\",\n  \"status.new_shoe\": \"シャッフル中\",\n  \"status.settling\": \"決済中\",\n  \"status.card_dealing\": \"結果\",\n  \"common.state.maintenance\": \"メンテナンス中\",\n};\n\nconst ko = {\n  \"status.sitting\": \"이미 책상에 올려져 있음\",\n  \"status.new_shoe\": \"셔플중\",\n  \"status.settling\": \"정산중\",\n  \"status.card_dealing\": \"결과\",\n  \"common.state.maintenance\": \"점검중\",\n};\n\nconst my = {\n  \"status.sitting\": \"ဒီစားပွဲပေါ် ရောက်နေပြီ\",\n  \"status.new_shoe\": \"ရှပ်ရှပ်\",\n  \"status.settling\": \"ဖြေရှင်းပါ\",\n  \"status.card_dealing\": \"ရလဒ်\",\n  \"common.state.maintenance\": \"မိန်တိန်နက်\",\n};\n\nconst pt = {\n  \"status.sitting\": \"Já nesta mesa\",\n  \"status.new_shoe\": \"Embaralhando\",\n  \"status.settling\": \"Liquidação\",\n  \"status.card_dealing\": \"Resultado\",\n  \"common.state.maintenance\": \"Manutenção\",\n};\n\nconst th = {\n  \"status.sitting\": \"คุณอยู่โต๊ะนี้\",\n  \"status.new_shoe\": \"กำลังสับไพ่\",\n  \"status.settling\": \"กำลังชำระ\",\n  \"status.card_dealing\": \"กำลังเปิดไพ่\",\n  \"common.state.maintenance\": \"คุณอยู่โต๊ะนี้\",\n};\n\nconst tl = {\n  \"status.sitting\": \"Nasa mesa na ito\",\n  \"status.new_shoe\": \"Binabalasa\",\n  \"status.settling\": \"Inaayos\",\n  \"status.card_dealing\": \"Resulta\",\n  \"common.state.maintenance\": \"Isinasaayos pa\",\n};\n\nconst tr = {\n  \"status.sitting\": \"Bu Masada Zaten Var\",\n  \"status.new_shoe\": \"Karıştırma\",\n  \"status.settling\": \"Yerleştirme\",\n  \"status.card_dealing\": \"Sonuç\",\n  \"common.state.maintenance\": \"Bakımda\",\n};\n\nconst vi = {\n  \"status.sitting\": \"đã ở bàn này\",\n  \"status.new_shoe\": \"Thay bài\",\n  \"status.settling\": \"Đang thanh toán\",\n  \"status.card_dealing\": \"Đang mở bài\",\n  \"common.state.maintenance\": \"đã ở bàn này\",\n};\n\nconst locales: { [key: string]: { [key: string]: string } } = {\n  en,\n  zh,\n  cn,\n  es,\n  id,\n  in: inLocale,\n  ja,\n  ko,\n  my,\n  pt,\n  th,\n  tl,\n  tr,\n  vi,\n};\n\nexport const t = (key: string) => {\n  const lang = configStore.getState().language || \"\";\n  const value = locales[lang]?.[key] || key;\n  return value;\n};\n\nexport default { t };\n"],"mappings":"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","names":["produce","createStore","getStoreDefaultState","configStore","set","config","s","draft","lang","configStore_default","produce","createStore","getStoreDefaultState","gameStore","set","gameCode","s","draft","otherCodes","gc","games","updatedGames","p","g","gameInfos","nextGame","gameRounds","gameStore_default","sha3_256","genWidgetToken","operCode","appKey","tss","sign","sndUrl","prdUrl","WeClient","cfg","gameCodes","config","configStore_default","lang","token","genWidgetToken","dataUrl","ws","self","dataString","data","gameInfos","gameStore_default","gameRounds","client_default","LitElement","html","customElement","property","WeSpacer","LitElement","style","html","__decorateClass","property","customElement","LitElement","html","css","customElement","property","classMap","styleMap","calcBAStats","RoundState","getIsChangingShoe","roundState","handleImageUrl","url","GamePreviewController","gameCode","gameStore_default","host","configStore_default","game","language","title","stats","calcBAStats","isShowResult","isShowCardResult","isStart","roundCard","accumCards","gameState","coverImageUrl","gameStateFlag","isMaintenance","calcBARoadmap","calcDTRoadmap","plotBeadRoad","plotBegin","plotBigRoad","plotEnd","plotGrid","plotR234Road","getPlotOptionByBackgroundMode","mode","drawBig","cols","data","gameType","backgroundMode","w","h","rm","calcDTRoadmap","calcBARoadmap","bigPlotOption","getPlotOptionByBackgroundMode","rt1","svg","plotBegin","plotBigRoad","plotEnd","en","zh","cn","es","id","inLocale","ja","ko","my","pt","th","tl","tr","vi","locales","t","key","lang","configStore_default","WeGamePreview","LitElement","GamePreviewController","_changedProperties","accumCards","drawBig","html","title","config","footerBackgroundColor","footerTextColor","footerStyle","footerTextStyle","footerText","styleMap","coverImageUrl","gameStateFlag","isMaintenance","svgContent","statusMsg","t","statusFlagClasses","containerStyle","classMap","maintenance_icon_default","css","__decorateClass","property","customElement"]}